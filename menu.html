<!doctype html>
<html lang="pt-br">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Menu - Pizzaria Madrid Guarulhos</title>

    <!-- FontAwsame -->
    <script src="https://kit.fontawesome.com/498943cfa9.js" crossorigin="anonymous"></script>
    <!-- BootsTrap V5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">

</head>

<body id="menu">

  <main>

    <section>

        <div id="bar" class="container-sm d-flex justify-content-center">
            <div class="row border border-person w-75 align-items-center">
                <div class="col-2 text-center">
                    <a class="icon-row" href="javascript:history.back()">
                        <i class="fa-solid fa-circle-arrow-left fs-4 mt-1"></i>
                    </a>
                </div>
                <div class="col-10 align-self-center text-center">
                    <p class="m-0 fs-5 text-person">Voltar</p>
                </div>
            </div>
        </div>

    </section>

    <section>
        <div class="container d-flex justify-content-center">
            <div class="row w-75 mt-5">
                <div class="col-md-5 px-0">
                    <img id="img" src="" alt="">
                </div>
                <div class="col-md-7 px-0">
                    <p id="Titulo" class="fs-4 m-0 test"></p>
                    <p id="Valor" class="fs-5 m-0 test2"></p>

                    <p id="Desc" class="mt-4 test3"></p>
                </div>
            </div>
        </div>
    </section>

  </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>

    <script>
        fetch('js/menu.json')
                .then(response => response.json())
                .then(jsonObj => {
                    const params = new Proxy(new URLSearchParams(window.location.search), {
                        get: (searchParams, prop) => searchParams.get(prop),
                    });
                    // Get the value of "some_key" in eg "https://example.com/?some_key=some_value"
                    let value = params.id; // "some_value"
                    console.log(value);


                    let tipo = params.tipo
                    let produto = {};

                    produto = jsonObj[tipo].find((entrada, id) => {
                        return Number(value) === id
                    })

                    // if (tipo === "Entradas") {
                    //     produto = jsonObj.Entradas.find((entrada, id) => {
                    //         return Number(value) === id
                    //     })
                    // }else if (tipo === "Pizzas" ){
                    //     produto = jsonObj.Pizzas.find((entrada, id) => {
                    //         return Number(value) === id
                    //     })
                    // }else if (tipo === "Sobremesas"){
                    //     produto = jsonObj.Sobremesas.find((entrada, id) => {
                    //         return Number(value) === id
                    //     })
                    // }
                    
                    const tituloElement = document.querySelector("#Titulo");
                    const imageElement = document.querySelector("#img");
                    const valorElement = document.querySelector("#Valor");
                    const descElement = document.querySelector("#Desc");
                    tituloElement.textContent = produto.Titulo;
                    imageElement.setAttribute("src" , produto.imagem);
                    valorElement.textContent = produto.Valor;
                    descElement.textContent = produto.Descricao;
        });

    </script>

</body>
</html>